const indeclinable=["метро","пальто","кенгуру","зебу","колибри","сулугуни","драже","трюмо","каноэ","алоэ","шасси","такси","жалюзи","бра","жюри","рагу","кино","кофе","радио","шоссе"],partsOfEnding=["а","и","й","е","ё","о","у","ы","э","ю","я","ь"],vowels=["а","и","е","ё","о","у","ы","э","ю","я"],months=["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],maleEnding=["арь","тель"],femaleEnding=["чь","щь","шь","ость","бь","вь","дь","зь","сь","ть"],exceptionsOfTheGenus=["шампунь","автомобиль","стиль","уголь","голубь","лебедь","шмель","дождь","гвоздь","смерчь","гость","камень","олень","конь","ячмень","путь","пароль","парень","зверь","шкворень","пень","пельмень","тюлень"],differing=["бремя","вымя","темя","пламя","стремя","пламя","время","знамя","имя","племя","семя","путь","дитя"],answer=document.getElementById("answer"),input=document.getElementById("input"),type=document.getElementById("type"),select=document.getElementById("select"),alive=document.getElementById("alive"),etcArea=document.getElementById("etc"),firstInput=document.getElementById("first"),labelType=document.querySelector(".labelType"),kirillicAllert=document.querySelector(".kirillicAllert");let isAlive=alive.checked;function etc(){input.value="Йцукен",tryToGuess()}function goToFirst(){input.focus()}function tryToGuess(){if(isAlive=alive.checked,labelType.classList.remove("alert"),input.value=input.value.toLowerCase().trim(),input.validity.patternMismatch?kirillicAllert.classList.add("show"):kirillicAllert.classList.remove("show"),input.value.length>=3&&input.value.length<20&&""!==select.value&&!input.validity.patternMismatch){if("nominative"===select.value&&(answer.innerHTML=input.value,type.innerHTML="Ваше слово "+typeInference(declensionForm(input.value))),"genitive"===select.value){const e=changeСaseToGenitive(input.value);answer.innerHTML=e,type.innerHTML="Ваше слово "+typeInference(declensionForm(input.value))}if("dative"===select.value){const e=changeСaseToDative(input.value);answer.innerHTML=e,type.innerHTML="Ваше слово "+typeInference(declensionForm(input.value))}if("accusative"===select.value){const e=changeСaseToaccusative(input.value);answer.innerHTML=e,type.innerHTML="Ваше слово "+typeInference(declensionForm(input.value))}if("instrumental"===select.value){const e=changeСaseInstrumental(input.value);answer.innerHTML=e,type.innerHTML="Ваше слово "+typeInference(declensionForm(input.value))}if("prepositional"===select.value){const e=changeСasepPepositional(input.value);answer.innerHTML=e,type.innerHTML="Ваше слово "+typeInference(declensionForm(input.value))}}else""===select.value?(answer.innerHTML="Падеж не выбран",labelType.classList.add("alert")):answer.innerHTML="",input.value.length<=3?type.innerHTML="Добавьте символы":input.value.length>=20?type.innerHTML="Слишком длинное слово!":type.innerHTML=""}function typeInference(e){switch(e){case"differing":return"разносклоняемое";case"indeclinable":return"несклоняемое";case"first_declension":return"первого склонения";case"second_declension":return"второго склонения";case"third_declension":return"третьего склонения";default:return"неизвестного склонения"}}function declensionForm(e){const n=genus(e),{ending:i}=splitWord(e);if(differing.includes(e))return"differing";if(indeclinable.includes(e))return"indeclinable";if("ь"===i&&"female"===n)return"third_declension";if("а"===i||"я"===i||"ия"===i||"ья"===i)return"first_declension";if(""===i||"о"===i||"е"===i[i.length-1]||"ё"===i[i.length-1]||"ь"===i&&"male"===n)return"second_declension";const t=[];for(let e=0;e<=vowels.length;e++)t.push(vowels[e]+"й");return t.includes(i)?"second_declension":"undefind_form"}function splitWord(e){let n=[];const i=e.split("");for(let e=i.length-1;e>0;e--){if(!partsOfEnding.includes(i[e])){n=n.reverse().join("");return{wordWithoutEnding:i.join(""),ending:n}}n.push(i.pop(i[e]))}}function genus(e){if(months.includes(e))return"male";if(exceptionsOfTheGenus.includes(e))return"male";const n=e.split("").reverse().splice(0,4).reverse().join("");if(n.includes("арь")||n.includes("тель"))return"male";for(let e=0;e<=femaleEnding.length-1;e++)if(n.includes(femaleEnding[e]))return"female";return"female"}function changeСaseToGenitive(e){const{wordWithoutEnding:n,ending:i}=splitWord(e),t=declensionForm(e),s=n[n.length-1];switch(t){case"indeclinable":case"third_declension":case"differing":default:return e;case"first_declension":return"а"===i&&"к"===s?n+"и":"а"===i?n+"(и/ы)":"я"===i?n+"и":"ия"===i?n+"ию":"ья"===i?n+"ьи":e;case"second_declension":return"ок"===e.substr([e.length-2],2)?e.slice(0,-2)+"ка":""===i&&isAlive?n+"а":""===i?e:"а"===i?n+"у":"о"===i?n+"а":"ай"===i?n+"ая":"ие"===i||"ий"===i&&isAlive?n+"ия":"ий"===i?e:"ей"===i&&"м"===s||"ей"===i&&isAlive||"ей"===i?n+"ея":"ой"===i?n+"оя":"ь"===i||"е"===i?n+"я":"ьё"===i||"ье"===i?n+"ья":e}}function changeСaseToDative(e){const{wordWithoutEnding:n,ending:i}=splitWord(e),t=declensionForm(e),s=n[n.length-1];switch(t){case"indeclinable":default:return e;case"first_declension":return"а"===i||"я"===i?n+"е":"ия"===i?n+"(ии/ие)":e;case"second_declension":return"ок"===e.substr([e.length-2],2)?e.slice(0,-2)+"ку":""===i&&isAlive||""===i||"о"===i?n+"у":"е"===i?n+"ю":"ей"===i&&"м"===s||"ей"===i?n+"ею":"ий"===i||"ие"===i?n+"ию":"ай"===i?n+"аю":"ой"===i?n+"ою":"ьё"===i||"ье"===i?n+"ью":"ь"===i?n+"ю":e;case"third_declension":return"ь"===i?n+"и":e;case"differing":return"ь"===i?n+"и":"я"===i?n+"ени":e}}function changeСaseToaccusative(e){const{wordWithoutEnding:n,ending:i}=splitWord(e),t=declensionForm(e);n[n.length-1];switch(t){case"indeclinable":case"third_declension":case"differing":default:return e;case"first_declension":return"а"===i?n+"у":"я"===i?n+"ю":"ия"===i?n+"ию":"ья"===i?n+"ью":e;case"second_declension":return""===i&&isAlive?n+"а":""===i?e:"ий"===i?n+"ия":"ой"===i&&isAlive?n+"оя":"ой"===i?n+"ой":"ей"===i&&isAlive||"ей"===i?n+"ея":"ай"===i&&isAlive?n+"ая":"ай"===i?n+"ай":"ие"===i?n+"ие":"ь"===i?n+"я":e}}function changeСaseInstrumental(e){const{wordWithoutEnding:n,ending:i}=splitWord(e),t=declensionForm(e);n[n.length-1];switch(t){case"indeclinable":return e;case"first_declension":return"а"===i?n+"ой":"я"===i||"ья"===i?n+"ей":"ия"===i?n+"ией":e;case"second_declension":return"ок"===e.substr([e.length-2],2)?e.slice(0,-2)+"ком":"е"===i?n+"ем":"о"===i?n+"ом":"ие"===i?n+"ием":""===i?n+"ом":"ай"===i?n+"аем":"ой"===i?n+"оем":"ий"===i?n+"ием":"ей"===i?n+"еем":"ьё"===i||"ье"===i?n+"ьем":"ь"===i?n+"ем":e;case"differing":return"е"===i||"е"===i?n+"ем":"я"===i?n+"енем":"ие"===i?n+"ием":""===i?n+"ом":"ай"===i?n+"аем":"ой"===i?n+"оем":"ий"===i?n+"ием":"ей"===i?n+"еем":"ьё"===i||"ье"===i?n+"ьем":"ь"===i?n+"ем":e;case"third_declension":if("ь"===i)return n+"ью";default:return e}}function changeСasepPepositional(e){const{wordWithoutEnding:n,ending:i}=splitWord(e),t=declensionForm(e),s=n[n.length-1];switch(t){case"indeclinable":default:return e;case"first_declension":return"а"===i||"я"===i?"о "+n+"е":"ья"===i?"о "+n+"ье":"ия"===i?"о "+n+"ии":e;case"second_declension":return"ок"===e.substr([e.length-2],2)?e.slice(0,-2)+"ке":"ь"===i||""===i||"о"===i?"о "+n+"е":"ой"===i?"о "+n+"ое":"ай"===i?"о "+n+"ае":"ие"===i||"ий"===i?"о "+n+"ии":"ей"===i?"о "+n+"ее":"ье"===i||"ьё"===i?"о "+n+"ье":"о "+e;case"third_declension":return"ь"===i?"о "+n+"и":e;case"differing":return"ь"===i?"о "+n+"и":"я"===i&&"т"===s?"о "+n+"е":"я"===i?"о "+n+"ени":e}}const first=["папа","дедушка","старшина","мужчина","юнга","юноша","судья","дядя","владыка","воевода","слуга","Савва","Илья","Фома","Кузьма","мама","жена","бабушка","тётя","тёща","внучка","девушка","женщина","корова","дорога","красота","река","книга","сирота","подлиза","плакса","невежда","неряха","чистюля","бродяга","непоседа"],second=["замок","крот","мороз","балкон","подъезд","пароль","шило","крыло","горе","имение","ружьё","жребий","гербарий","калий","дельфинарий","воробей","хоккей","суховей","лицей","строй","конвой","слой","отбой","край","попугай","каравай","обычай","сомнение","украшение","умение","заявление","телевидение","созвездие","поколение"],third=["гавань","фасоль","запись","болезнь","площадь","пригарь","гуашь","пустошь","горечь","помощь","упряжь","молодежь","мышь"];test=e=>{};